
<ul>
  <li>eventName: {{singleEvent.eventName}} </li>
  <li>host: {{singleEvent.host.name}} </li>
  <li>Location:
    <br>
    <div id="sample-map"></div>
  </li>

  <li>date: {{singleEvent.date}} </li>
  <li>numberOfPlayer: {{singleEvent.numberOfPlayer}} </li>
  
  <li>Players List: 
    <br>
    {{#each singleEvent.waitingList}}
    {{ name }} <br>
    {{/each}}</li>  
  <li>Waiting List: 
    <br>
    {{#each singleEvent.players}}
    {{ name }} <br>
    {{/each}}</li>  

  <a href="/encounter/single/{{ singleEvent._id }}/join" > Join Event </a></li>
  <form action="/encounter/single/{{ singleEvent._id }}/deletePlayer" method="POST"><button> Leave Event </button></form>

  <li>game: {{singleEvent.gameList}} </li>
  <li></li><br></li>
  <li><a href="/encounter/single/{{ singleEvent._id }}/edit" > edit event </a></li>
  <li><form action="/encounter/single/{{ singleEvent._id }}/delete" method="POST"><button> delete event </button></form></li>
</ul>


<section>
  <h4>Comments</h4>
  <div>
    <div>
      {{#each singleEvent.comments}}
            <div>
              <p>{{this.comment}}</p>
              <h6>{{this.player}}</h6>
              <form action="/encounter/single/{{ id }}/deleteComment" method="POST"><button> delete comment </button></form>
            </div>
      {{/each}}
    </div>
  </div>


  <form action="/encounter/single/addComment?event_id={{ singleEvent._id }}" method="post">
  <h5> Add a Comment {{user.name}}</h5>
   <div>
      <label for="comment">Comment:</label>
      <textarea type="text" name="comment" placeholder="Please write your comment here..."></textarea>
    </div>

    <button type="submit">ADD</button>
  </form>
</section>
<aside>
  {{>sidebar}}
</aside>


  <script>
    const $sampleMap = document.getElementById('sample-map');
    function initMap() {
      const map = new window.google.maps.Map($sampleMap, {
        center: {
            lat: {{singleEvent.location.coordinates.[0]}}, 
            lng: {{singleEvent.location.coordinates.[1]}}
          },
        zoom: 12
      });
      const marker = new window.google.maps.Marker({
          position: {
            lat: {{singleEvent.location.coordinates.[0]}}, 
            lng: {{singleEvent.location.coordinates.[1]}}
          },
          map
        });
    }
  </script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBrJ1f_9MB0iFA2zFsHIbIK8sGWU91aQr8&callback=initMap" async defer></script>